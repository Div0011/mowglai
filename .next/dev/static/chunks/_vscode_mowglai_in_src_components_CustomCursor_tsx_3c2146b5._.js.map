{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/divya/.vscode/mowglai.in/src/components/CustomCursor.tsx"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport { gsap } from \"gsap\";\r\n\r\ninterface Ripple {\r\n  x: number;\r\n  y: number;\r\n  id: number;\r\n}\r\n\r\nconst CustomCursor = () => {\r\n  // const [position, setPosition] = useState({ x: 0, y: 0 }); // Unused\r\n  const [isPointer, setIsPointer] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isInverted, setIsInverted] = useState(false);\r\n  const [ripples, setRipples] = useState<Ripple[]>([]);\r\n\r\n  // Refs for direct DOM manipulation (better performance than state for cursor position)\r\n  const cursorRef = useRef<HTMLDivElement>(null);\r\n  const followerRef = useRef<HTMLDivElement>(null);\r\n  const lastRipplePos = useRef({ x: 0, y: 0 }); // Track last ripple position\r\n\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      const isCoarse = window.matchMedia(\"(pointer: coarse)\").matches;\r\n      const isSmallScreen = window.innerWidth <= 1024;\r\n      const isMobileUA = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n      setIsMobile((isCoarse && isSmallScreen) || isMobileUA);\r\n    };\r\n    checkMobile();\r\n    window.addEventListener(\"resize\", checkMobile);\r\n    return () => window.removeEventListener(\"resize\", checkMobile);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMobile) return;\r\n\r\n    // Use GSAP's quickTo for high-performance following\r\n    // Set initial alignment to prevent \"shifting\" from transform conflicts\r\n    gsap.set([cursorRef.current, followerRef.current], { xPercent: -50, yPercent: -50 });\r\n\r\n    const cursorX = gsap.quickTo(cursorRef.current, \"x\", { duration: 0.1, ease: \"power3.out\" });\r\n    const cursorY = gsap.quickTo(cursorRef.current, \"y\", { duration: 0.1, ease: \"power3.out\" });\r\n    const followerX = gsap.quickTo(followerRef.current, \"x\", { duration: 0.35, ease: \"power3.out\" });\r\n    const followerY = gsap.quickTo(followerRef.current, \"y\", { duration: 0.35, ease: \"power3.out\" });\r\n\r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      // Use functional updates to avoid stale closure issues and redundant sets\r\n      setIsVisible(prev => prev ? prev : true);\r\n\r\n      // Update GSAP positions (direct DOM manipulation remains outside React state)\r\n      cursorX(e.clientX);\r\n      cursorY(e.clientY);\r\n      followerX(e.clientX);\r\n      followerY(e.clientY);\r\n\r\n      const target = e.target as HTMLElement;\r\n\r\n      // Pointer Check - Avoid getComputedStyle for performance on every move\r\n      const isClickable =\r\n        target.tagName === \"A\" ||\r\n        target.tagName === \"BUTTON\" ||\r\n        !!target.closest(\"a\") ||\r\n        !!target.closest(\"button\") ||\r\n        target.getAttribute(\"role\") === \"button\";\r\n\r\n      setIsPointer(prev => prev === isClickable ? prev : isClickable);\r\n\r\n      // Spawn ripple on move (throttled by distance)\r\n      const dist = Math.hypot(e.clientX - lastRipplePos.current.x, e.clientY - lastRipplePos.current.y);\r\n      if (dist > 50) {\r\n        lastRipplePos.current = { x: e.clientX, y: e.clientY };\r\n        const id = Date.now();\r\n        setRipples((prev) => [...prev, { x: e.clientX, y: e.clientY, id }]);\r\n        setTimeout(() => {\r\n          setRipples((prev) => prev.filter((r) => r.id !== id));\r\n        }, 1500); // Match animation duration\r\n      }\r\n\r\n      // Theme/Color Check - Look for data-theme=\"gold\" in the ancestry\r\n      const themeElement = target.closest('[data-theme=\"gold\"]');\r\n      const shouldInvert = !!themeElement;\r\n      setIsInverted(prev => prev === shouldInvert ? prev : shouldInvert);\r\n    };\r\n\r\n    const handleMouseLeave = () => setIsVisible(false);\r\n    const handleMouseEnter = () => setIsVisible(true);\r\n\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n    document.addEventListener(\"mouseleave\", handleMouseLeave);\r\n    document.addEventListener(\"mouseenter\", handleMouseEnter);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n      document.removeEventListener(\"mouseleave\", handleMouseLeave);\r\n      document.removeEventListener(\"mouseenter\", handleMouseEnter);\r\n    };\r\n  }, [isMobile]);\r\n\r\n  useEffect(() => {\r\n    const handleClick = (e: MouseEvent) => {\r\n      // Allow ripples on mobile? The custom cursor logic returns null effectively hiding everything.\r\n      // If we want ripples only when cursor is enabled strings attached, keep isMobile check.\r\n      if (isMobile) return;\r\n\r\n      const id = Date.now();\r\n      setRipples((prev) => [...prev, { x: e.clientX, y: e.clientY, id }]);\r\n\r\n      // Cleanup after animation\r\n      setTimeout(() => {\r\n        setRipples((prev) => prev.filter((r) => r.id !== id));\r\n      }, 600);\r\n    };\r\n\r\n    window.addEventListener(\"click\", handleClick);\r\n    return () => window.removeEventListener(\"click\", handleClick);\r\n  }, [isMobile]);\r\n\r\n  // Handle scaling via GSAP to avoid conflict with positional transforms\r\n  useEffect(() => {\r\n    if (isMobile || !followerRef.current) return;\r\n    gsap.to(followerRef.current, {\r\n      scale: isPointer ? 1.6 : 1,\r\n      duration: 0.3,\r\n      ease: \"power2.out\"\r\n    });\r\n  }, [isPointer, isMobile]);\r\n\r\n  if (isMobile) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* \r\n        Cursor Styles:\r\n        Default (Green Bg): Golden Cursor\r\n        Inverted (Gold Bg): Green Cursor (#1B3022)\r\n      */}\r\n\r\n      {/* Ripples */}\r\n      {ripples.map((ripple) => (\r\n        <div\r\n          key={ripple.id}\r\n          className=\"fixed pointer-events-none z-[9997] w-12 h-12 rounded-full border animate-ripple\"\r\n          style={{\r\n            left: ripple.x,\r\n            top: ripple.y,\r\n            borderColor: isInverted ? 'rgba(27, 48, 34, 0.3)' : 'rgba(197, 160, 89, 0.3)', // Lower opacity for the trail\r\n            borderWidth: '1px',\r\n          }}\r\n        />\r\n      ))}\r\n\r\n      {/* Follower (Large Circle) */}\r\n      <div\r\n        ref={followerRef}\r\n        className={`fixed top-0 left-0 pointer-events-none z-[9998] w-12 h-12 rounded-full border border-primary/20 custom-cursor-follower transition-[opacity,background-color,border-color] duration-300 ease-out ${isVisible ? 'opacity-100' : 'opacity-0'\r\n          }`}\r\n        style={{\r\n          borderColor: isInverted ? '#1B3022' : '#C5A059',\r\n          backgroundColor: isPointer ? (isInverted ? 'rgba(27, 48, 34, 0.1)' : 'rgba(197, 160, 89, 0.1)') : 'transparent',\r\n        }}\r\n      />\r\n\r\n      {/* Main Dot */}\r\n      <div\r\n        ref={cursorRef}\r\n        className={`fixed top-0 left-0 pointer-events-none z-[9999] w-3 h-3 rounded-full custom-cursor-dot transition-[opacity,background-color] duration-300 ease-out ${isVisible ? 'opacity-100' : 'opacity-0'\r\n          }`}\r\n        style={{\r\n          backgroundColor: isInverted ? '#1B3022' : '#C5A059',\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomCursor;"],"names":[],"mappings":"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"}}]
}